\hypertarget{interfacem__journal_1_1journal}{}\section{m\+\_\+journal\+:\+:journal Interface Reference}
\label{interfacem__journal_1_1journal}\index{m\+\_\+journal\+::journal@{m\+\_\+journal\+::journal}}


\subsubsection*{N\+A\+ME}

journal(3f) -\/ \mbox{[}M\+\_\+journal\mbox{]} provides public message routine, no paging or graphic mode change (L\+I\+C\+E\+N\+SE\+:PD) \subsubsection*{S\+Y\+N\+O\+P\+S\+IS} 


\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
subroutine \mbox{\hyperlink{interfacem__journal_1_1journal_acdde0ed4590797094f797514820e34fc}{flush\+\_\+trail}} ()
\item 
subroutine \mbox{\hyperlink{interfacem__journal_1_1journal_a1cb40f602a1e1c546bce71652a779d31}{write\+\_\+message\+\_\+only}} (message)
\item 
subroutine \mbox{\hyperlink{interfacem__journal_1_1journal_ae6136e918d4383d1c463c536a3eb814a}{where\+\_\+write\+\_\+message\+\_\+all}} (where, g0, g1, g2, g3, g4, g5, g6, g7, g8, g9, nospace)
\begin{DoxyCompactList}\small\item\em \subsubsection*{N\+A\+ME}

where\+\_\+write\+\_\+message\+\_\+all(3f) -\/ \mbox{[}M\+\_\+journal\mbox{]} converts any standard scalar type to a string and calls journal(3f) (L\+I\+C\+E\+N\+SE\+:PD) \subsubsection*{S\+Y\+N\+O\+P\+S\+IS}\end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{interfacem__journal_1_1journal_a78f9c4a4314847963a2feae798ff54c1}{set\+\_\+stdout\+\_\+lun}} (iounit)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\subsubsection*{N\+A\+ME}

journal(3f) -\/ \mbox{[}M\+\_\+journal\mbox{]} provides public message routine, no paging or graphic mode change (L\+I\+C\+E\+N\+SE\+:PD) \subsubsection*{S\+Y\+N\+O\+P\+S\+IS}

subroutine journal(\mbox{[}where,\mbox{]},\mbox{[}\+V\+A\+L\+U\+E(s)\mbox{]})

character(len=$\ast$),intent(in) \+:\+: where character(len=$\ast$)$\vert$real$\vert$integer$\vert$doubleprecision$\vert$complex,optional \+:\+: g1,g2,g3,g4,g5,g6,g7,g8,g9

W\+R\+I\+TE M\+E\+S\+S\+A\+G\+ES basic messages

call journal(where,\mbox{[}\+V\+A\+L\+U\+E(\+S)\mbox{]}) call journal(message) \# a shortcut for \char`\"{}call journal(\textquotesingle{}sc\textquotesingle{},message)\char`\"{}\+: O\+P\+EN OR C\+L\+O\+SE T\+R\+A\+IL F\+I\+LE trail file

call journal(\textquotesingle{}O\textquotesingle{},trailfile\+\_\+name) \# open trail file call journal(\textquotesingle{}O\textquotesingle{},\textquotesingle{}\textquotesingle{}) \# close trail file S\+ET O\+U\+T\+P\+UT T\+I\+ME P\+R\+E\+F\+IX set the function display format for timestamps. See the N\+O\+W(3f) procedure for allowable timestamp macros

call journal(\textquotesingle{}\textquotesingle{},time\+\_\+stamp\+\_\+prefix\+\_\+specification)

M\+O\+D\+ES

Turn on/off writing D\+E\+B\+UG messages to trail file

call journal(\textquotesingle{}$>$\textquotesingle{},\textquotesingle{}debug on\textquotesingle{}) \# turn on debug mode call journal(\textquotesingle{}$<$\textquotesingle{},\textquotesingle{}debug off\textquotesingle{}) \# turn off debug mode

A\+S\+S\+I\+GN S\+T\+D\+O\+UT TO AN A\+L\+T\+E\+R\+N\+A\+TE F\+I\+LE change stdout to iunit and open filename; or close unit and go back to stdout if filename=\textquotesingle{}\textquotesingle{}

call journal(iunit,filename)

change stdout to iunit to use a file already open

call journal(iunit)

\subsubsection*{D\+E\+S\+C\+R\+I\+P\+T\+I\+ON}

\begin{DoxyVerb}If a user procedure is used for outputting messages instead of calling
WRITE(3f) it is easy to provide control of when messages are printed
(ie. a "verbose" mode, or "quite" mode), creating files to replay
program execution, duplicating output, ...
\end{DoxyVerb}


\subsubsection*{O\+P\+T\+I\+O\+NS}

W\+H\+E\+RE indicates where messages are written. A combination of the following characters can be used...

Usually one of these to write to the standard output files ...

S write to stdout or iounit set with journal(unit) or journal(unit,filename). E write to stderr

And one of these to write to trail file (ignore if no trail file defined) ...

C write to trail file as a comment (if file is open) Writing output \char`\"{}as a comment\char`\"{} means it is preceded by a pound(\#) character. T write to trail file (if file is open)

Usually used by itself

D write to trail file as a comment with \char`\"{}\+D\+E\+B\+U\+G\+:\char`\"{} prefix in front of message (if file is open) if debug mode is on. Write to stdout if no trail file and debug mode is on.

Modifier for S$\vert$\+E$\vert$\+C$\vert$\+T$\vert$D specifiers


\begin{DoxyItemize}
\item subsequent files are written to with advance=\textquotesingle{}no\textquotesingle{}. Position is important. \textquotesingle{}+sc\textquotesingle{} does an advance=\textquotesingle{}no\textquotesingle{} on both files, \textquotesingle{}s+c\textquotesingle{} only does the advance=\textquotesingle{}no\textquotesingle{} for the trail file.
\end{DoxyItemize}

Mode changing options used by themselves\+:

$>$ turn off debug messages $<$ turn on debug messages O open trail file using value of \char`\"{}message\char`\"{} parameter or close trail file if no filename or a blank filename. A Auxiliary programs that also want to write to the current log file (a2b, z2a, ...) call this routine to see if there is a trail file being generated and then add to it so that a program like ush(1f) can call the auxiliary programs and still just generate one log file, but if the auxiliary program is used as a stand-\/alone program no trail is generated.

V\+A\+L\+U\+E\+S(\+S) message to write to stdout, stderr, and the trail file. a numeric or character value to optionally be appended to the message. Up to nine values are allowed. The W\+H\+E\+RE field is required if values are added. F\+I\+L\+E\+N\+A\+ME when W\+H\+E\+RE=\char`\"{}\+O\char`\"{} to turn the trail file on or off, the \char`\"{}message\char`\"{} field becomes the trail filename to open. If blank, writing to the trail file is turned off. T\+F\+O\+R\+M\+AT when W\+H\+E\+RE=\char`\"{}\%\char`\"{} the message is treated as a time format specification as described under now(3f).

\subsubsection*{E\+X\+A\+M\+P\+LE}

Sample program\+:

program demo\+\_\+journal use M\+\_\+journal, only \+: journal !! B\+A\+S\+IC U\+S\+A\+GE call journal(\textquotesingle{}write to standard output as-\/is, and trail file as a comment if open\textquotesingle{}) ! since we have not opened a trail file yet, only stdout will display output call journal(\textquotesingle{}c\textquotesingle{},\textquotesingle{}ignored, as trail file is not open\textquotesingle{}) ! now open trail file \char`\"{}trail\char`\"{} call journal(\textquotesingle{}o\textquotesingle{},\textquotesingle{}trail\textquotesingle{}) call journal(\textquotesingle{}sc\textquotesingle{},\textquotesingle{}same thing except now trail file is open\textquotesingle{}) ! only write to trail file if open call journal(\textquotesingle{}c\textquotesingle{},\textquotesingle{}not ignored, as trail file is open. Written with \# suffix\textquotesingle{}) call journal(\textquotesingle{}t\textquotesingle{},\textquotesingle{}not ignored, as trail file is open. Written as-\/is\textquotesingle{}) ! turn off trail file call journal(\textquotesingle{}o\textquotesingle{},\textquotesingle{}\textquotesingle{}) end program demo\+\_\+journal

Adding intrinsic scalar values to the message\+:

program test\+\_\+journal use M\+\_\+journal, only\+: journal implicit none call journal(\textquotesingle{}S\textquotesingle{},\textquotesingle{}This is a test with no optional value\textquotesingle{}) call journal(\textquotesingle{}S\textquotesingle{},\textquotesingle{}This is a test with a logical value\textquotesingle{},.true.) call journal(\textquotesingle{}S\textquotesingle{},\textquotesingle{}This is a test with a double value\textquotesingle{},1234567890.\+123456789d0) call journal(\textquotesingle{}S\textquotesingle{},\textquotesingle{}This is a test with a real value\textquotesingle{},1234567890.\+123456789) call journal(\textquotesingle{}S\textquotesingle{},\textquotesingle{}This is a test with an integer value\textquotesingle{},1234567890) call journal(\textquotesingle{}S\+T\+DC\textquotesingle{},\textquotesingle{}This is a test using S\+T\+DC\textquotesingle{},1234567890) call journal(\textquotesingle{}stdc\textquotesingle{},\textquotesingle{}This is a test using stdc\textquotesingle{},1234567890) call journal(\textquotesingle{}o\textquotesingle{},\textquotesingle{}journal.\+txt\textquotesingle{}) ! open trail file call journal(\textquotesingle{}S\textquotesingle{},1,12.\+34,56789.\+111111111d0,.false.,\textquotesingle{}a bunch of values\textquotesingle{}) ! the combinations that make sense call journal(\textquotesingle{}st\textquotesingle{},\textquotesingle{}stdout and trail\textquotesingle{}) call journal(\textquotesingle{}s\textquotesingle{} ,\textquotesingle{}stdout only\textquotesingle{}) call journal(\textquotesingle{}t\textquotesingle{} ,\textquotesingle{}trail only\textquotesingle{}) call journal(\textquotesingle{}sc\textquotesingle{},\textquotesingle{}stdout and trail\+\_\+comment\textquotesingle{}) call journal(\textquotesingle{}c\textquotesingle{} ,\textquotesingle{}trail\+\_\+comment only \textquotesingle{}) call journal(\textquotesingle{}d\textquotesingle{} ,\textquotesingle{}debug only\textquotesingle{}) call journal(\textquotesingle{}e\textquotesingle{} ,\textquotesingle{}stderr only\textquotesingle{}) call journal(\textquotesingle{}o\textquotesingle{} ,\textquotesingle{} \textquotesingle{}) ! closing trail file end program test\+\_\+journal

program testit ! this is a utility program that calls the module routines. It is typically built using ccall(1). use M\+\_\+journal, only \+: journal character(len=\+:),allocatable \+:\+: time\+\_\+stamp\+\_\+prefix call journal(\textquotesingle{}s\textquotesingle{},\textquotesingle{}-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/---\textquotesingle{}) call journal(\textquotesingle{}s\textquotesingle{},\textquotesingle{}S\+I\+M\+P\+LE W\+R\+I\+T\+ES\textquotesingle{}) call one() call two() call journal(\textquotesingle{}sc\textquotesingle{},\textquotesingle{}called O\+N\+E() and T\+W\+O() but did not generate a log file\textquotesingle{}) call journal(\textquotesingle{}s\textquotesingle{},\textquotesingle{}-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/---\textquotesingle{}) call journal(\textquotesingle{}s\textquotesingle{},\textquotesingle{}S\+I\+M\+P\+LE W\+R\+I\+T\+ES W\+I\+TH L\+OG F\+I\+LE\textquotesingle{}) call journal(\textquotesingle{}o\textquotesingle{},\textquotesingle{}journal.\+txt\textquotesingle{}) ! open trail file call one() call two() call journal(\textquotesingle{}sc\textquotesingle{},\textquotesingle{}called O\+N\+E() and T\+W\+O() and generated log file journal.\+txt\textquotesingle{}) call journal(\textquotesingle{}\textquotesingle{},\textquotesingle{}journal.\+txt\textquotesingle{}) ! close trail file call journal(\textquotesingle{}s\textquotesingle{},\textquotesingle{}-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/---\textquotesingle{}) call journal(\textquotesingle{}s\textquotesingle{},\textquotesingle{}S\+I\+M\+P\+LE W\+R\+I\+T\+ES W\+I\+TH T\+I\+M\+I\+NG I\+N\+F\+O\+R\+M\+A\+T\+I\+ON\textquotesingle{}) time\+\_\+stamp\+\_\+prefix=\textquotesingle{}C\+P\+U\+\_\+\+T\+I\+ME=c\+:C\+A\+L\+LS=C\+:S\+I\+N\+CE=S\+:b\textquotesingle{} ! change time prefix call journal(\textquotesingle{}\textquotesingle{},time\+\_\+stamp\+\_\+prefix) ! set a time prefix in front of messages call journal(\textquotesingle{}o\textquotesingle{},\textquotesingle{}timed.\+txt\textquotesingle{}) ! open trail file call one() call two() call journal(\textquotesingle{}sc\textquotesingle{},\textquotesingle{}called O\+N\+E() and T\+W\+O() and generate log file timed.\+txt\textquotesingle{}) call journal(\textquotesingle{}\textquotesingle{},\textquotesingle{}timed.\+txt\textquotesingle{}) ! close trail file call journal(\textquotesingle{}\textquotesingle{},\textquotesingle{}\textquotesingle{}) ! turn off time prefix call journal(\textquotesingle{}o\textquotesingle{},\textquotesingle{}timed.\+txt\textquotesingle{}) ! open trail file call journal(\textquotesingle{}s\textquotesingle{},\textquotesingle{}-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/---\textquotesingle{})

contains

subroutine two() call journal(\textquotesingle{}Entered subroutine two\textquotesingle{}) call journal(\textquotesingle{}Exited subroutine two\textquotesingle{}) end subroutine two

subroutine one() call journal(\textquotesingle{}Entered subroutine one\textquotesingle{}) sum=-\/\+H\+U\+GE(1.\+0) do i=1,10000000 sum=sum+sqrt(real(i)) enddo write($\ast$,$\ast$)\textquotesingle{}S\+UM=\textquotesingle{},sum call journal(\textquotesingle{}Exited subroutine one\textquotesingle{}) end subroutine one

end program testit

\subsubsection*{A\+U\+T\+H\+OR}

John S. Urban

\subsubsection*{L\+I\+C\+E\+N\+SE}

Public Domain 

\subsection{Member Function/\+Subroutine Documentation}
\mbox{\Hypertarget{interfacem__journal_1_1journal_acdde0ed4590797094f797514820e34fc}\label{interfacem__journal_1_1journal_acdde0ed4590797094f797514820e34fc}} 
\index{m\+\_\+journal\+::journal@{m\+\_\+journal\+::journal}!flush\+\_\+trail@{flush\+\_\+trail}}
\index{flush\+\_\+trail@{flush\+\_\+trail}!m\+\_\+journal\+::journal@{m\+\_\+journal\+::journal}}
\subsubsection{\texorpdfstring{flush\+\_\+trail()}{flush\_trail()}}
{\footnotesize\ttfamily subroutine m\+\_\+journal\+::journal\+::flush\+\_\+trail (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{interfacem__journal_1_1journal_a78f9c4a4314847963a2feae798ff54c1}\label{interfacem__journal_1_1journal_a78f9c4a4314847963a2feae798ff54c1}} 
\index{m\+\_\+journal\+::journal@{m\+\_\+journal\+::journal}!set\+\_\+stdout\+\_\+lun@{set\+\_\+stdout\+\_\+lun}}
\index{set\+\_\+stdout\+\_\+lun@{set\+\_\+stdout\+\_\+lun}!m\+\_\+journal\+::journal@{m\+\_\+journal\+::journal}}
\subsubsection{\texorpdfstring{set\+\_\+stdout\+\_\+lun()}{set\_stdout\_lun()}}
{\footnotesize\ttfamily subroutine m\+\_\+journal\+::journal\+::set\+\_\+stdout\+\_\+lun (\begin{DoxyParamCaption}\item[{integer, intent(in)}]{iounit }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{interfacem__journal_1_1journal_ae6136e918d4383d1c463c536a3eb814a}\label{interfacem__journal_1_1journal_ae6136e918d4383d1c463c536a3eb814a}} 
\index{m\+\_\+journal\+::journal@{m\+\_\+journal\+::journal}!where\+\_\+write\+\_\+message\+\_\+all@{where\+\_\+write\+\_\+message\+\_\+all}}
\index{where\+\_\+write\+\_\+message\+\_\+all@{where\+\_\+write\+\_\+message\+\_\+all}!m\+\_\+journal\+::journal@{m\+\_\+journal\+::journal}}
\subsubsection{\texorpdfstring{where\+\_\+write\+\_\+message\+\_\+all()}{where\_write\_message\_all()}}
{\footnotesize\ttfamily subroutine m\+\_\+journal\+::journal\+::where\+\_\+write\+\_\+message\+\_\+all (\begin{DoxyParamCaption}\item[{character(len=$\ast$), intent(in)}]{where,  }\item[{class($\ast$), intent(in)}]{g0,  }\item[{class($\ast$), intent(in), optional}]{g1,  }\item[{class($\ast$), intent(in), optional}]{g2,  }\item[{class($\ast$), intent(in), optional}]{g3,  }\item[{class($\ast$), intent(in), optional}]{g4,  }\item[{class($\ast$), intent(in), optional}]{g5,  }\item[{class($\ast$), intent(in), optional}]{g6,  }\item[{class($\ast$), intent(in), optional}]{g7,  }\item[{class($\ast$), intent(in), optional}]{g8,  }\item[{class($\ast$), intent(in), optional}]{g9,  }\item[{logical, intent(in), optional}]{nospace }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



\subsubsection*{N\+A\+ME}

where\+\_\+write\+\_\+message\+\_\+all(3f) -\/ \mbox{[}M\+\_\+journal\mbox{]} converts any standard scalar type to a string and calls journal(3f) (L\+I\+C\+E\+N\+SE\+:PD) \subsubsection*{S\+Y\+N\+O\+P\+S\+IS}

subroutine where\+\_\+write\+\_\+message\+\_\+all(where,g0,g1,g2g3,g4,g5,g6,g7,g8,g9,nospace)

character(len=$\ast$),intent(in) \+:\+: where class($\ast$),intent(in) \+:\+: g0 class($\ast$),intent(in),optional \+:\+: g1,g2,g3,g4,g5,g6,g7,g8,g9 logical,intent(in),optional \+:\+: nospace

\subsubsection*{D\+E\+S\+C\+R\+I\+P\+T\+I\+ON}

where\+\_\+write\+\_\+message\+\_\+all(3f) builds and writes a space-\/separated string from up to nine scalar values.

\subsubsection*{O\+P\+T\+I\+O\+NS}

\begin{DoxyVerb}where    string designating where to write message, as with journal(3f)
g0       value to print. May
         be of type INTEGER, LOGICAL, REAL, DOUBLEPRECISION, COMPLEX,
         or CHARACTER.
g[1-9]   optional additional values to print the value of after g0.
nospace  if nospace=.true., then no spaces are added between values
\end{DoxyVerb}
 \subsubsection*{R\+E\+T\+U\+R\+NS}

where\+\_\+write\+\_\+message\+\_\+all description to print

\subsubsection*{E\+X\+A\+M\+P\+L\+ES}

Sample program\+:

program demo\+\_\+wm\+\_\+all use M\+\_\+journal, only \+: where\+\_\+write\+\_\+message\+\_\+all implicit none end program program demo\+\_\+wm\+\_\+all \subsubsection*{A\+U\+T\+H\+OR}

John S. Urban \subsubsection*{L\+I\+C\+E\+N\+SE}

Public Domain \mbox{\Hypertarget{interfacem__journal_1_1journal_a1cb40f602a1e1c546bce71652a779d31}\label{interfacem__journal_1_1journal_a1cb40f602a1e1c546bce71652a779d31}} 
\index{m\+\_\+journal\+::journal@{m\+\_\+journal\+::journal}!write\+\_\+message\+\_\+only@{write\+\_\+message\+\_\+only}}
\index{write\+\_\+message\+\_\+only@{write\+\_\+message\+\_\+only}!m\+\_\+journal\+::journal@{m\+\_\+journal\+::journal}}
\subsubsection{\texorpdfstring{write\+\_\+message\+\_\+only()}{write\_message\_only()}}
{\footnotesize\ttfamily subroutine m\+\_\+journal\+::journal\+::write\+\_\+message\+\_\+only (\begin{DoxyParamCaption}\item[{character(len=$\ast$), intent(in)}]{message }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



The documentation for this interface was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/home/urbanjs/venus/\+V600/github/\+M\+\_\+msg/src/\mbox{\hyperlink{M__journal_8f90}{M\+\_\+journal.\+f90}}\end{DoxyCompactItemize}
