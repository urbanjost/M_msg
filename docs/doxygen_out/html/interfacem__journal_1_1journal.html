<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>M_msg: m_journal::journal Interface Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">M_msg
   </div>
   <div id="projectbrief">M_msg module (Fortran)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacem__journal.html">m_journal</a></li><li class="navelem"><a class="el" href="interfacem__journal_1_1journal.html">journal</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="interfacem__journal_1_1journal-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">m_journal::journal Interface Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><h2>NAME</h2>
journal(3f) - [M_journal] provides public message routine, no paging or graphic mode change (LICENSE:PD) </p><h2>SYNOPSIS</h2>
 
 <a href="interfacem__journal_1_1journal.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:acdde0ed4590797094f797514820e34fc"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacem__journal_1_1journal.html#acdde0ed4590797094f797514820e34fc">flush_trail</a> ()</td></tr>
<tr class="separator:acdde0ed4590797094f797514820e34fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cb40f602a1e1c546bce71652a779d31"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacem__journal_1_1journal.html#a1cb40f602a1e1c546bce71652a779d31">write_message_only</a> (message)</td></tr>
<tr class="separator:a1cb40f602a1e1c546bce71652a779d31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6136e918d4383d1c463c536a3eb814a"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacem__journal_1_1journal.html#ae6136e918d4383d1c463c536a3eb814a">where_write_message_all</a> (where, g0, g1, g2, g3, g4, g5, g6, g7, g8, g9, nospace)</td></tr>
<tr class="memdesc:ae6136e918d4383d1c463c536a3eb814a"><td class="mdescLeft">&#160;</td><td class="mdescRight"><h2>NAME</h2>
where_write_message_all(3f) - [M_journal] converts any standard scalar type to a string and calls journal(3f) (LICENSE:PD) </p><h2>SYNOPSIS</h2>
 <a href="#ae6136e918d4383d1c463c536a3eb814a">More...</a><br /></td></tr>
<tr class="separator:ae6136e918d4383d1c463c536a3eb814a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78f9c4a4314847963a2feae798ff54c1"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacem__journal_1_1journal.html#a78f9c4a4314847963a2feae798ff54c1">set_stdout_lun</a> (iounit)</td></tr>
<tr class="separator:a78f9c4a4314847963a2feae798ff54c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h2>NAME</h2>
<p>journal(3f) - [M_journal] provides public message routine, no paging or graphic mode change (LICENSE:PD) </p><h2>SYNOPSIS</h2>
<p>subroutine journal([where,],[VALUE(s)])</p>
<p>character(len=*),intent(in) :: where character(len=*)|real|integer|doubleprecision|complex,optional :: g1,g2,g3,g4,g5,g6,g7,g8,g9</p>
<p>WRITE MESSAGES basic messages</p>
<p>call journal(where,[VALUE(S)]) call journal(message) # a shortcut for "call journal('sc',message)": OPEN OR CLOSE TRAIL FILE trail file</p>
<p>call journal('O',trailfile_name) # open trail file call journal('O','') # close trail file SET OUTPUT TIME PREFIX set the function display format for timestamps. See the NOW(3f) procedure for allowable timestamp macros</p>
<p>call journal('',time_stamp_prefix_specification)</p>
<p>MODES</p>
<p>Turn on/off writing DEBUG messages to trail file</p>
<p>call journal('&gt;','debug on') # turn on debug mode call journal('&lt;','debug off') # turn off debug mode</p>
<p>ASSIGN STDOUT TO AN ALTERNATE FILE change stdout to iunit and open filename; or close unit and go back to stdout if filename=''</p>
<p>call journal(iunit,filename)</p>
<p>change stdout to iunit to use a file already open</p>
<p>call journal(iunit)</p>
<h2>DESCRIPTION</h2>
<pre class="fragment">If a user procedure is used for outputting messages instead of calling
WRITE(3f) it is easy to provide control of when messages are printed
(ie. a "verbose" mode, or "quite" mode), creating files to replay
program execution, duplicating output, ...
</pre><h2>OPTIONS</h2>
<p>WHERE indicates where messages are written. A combination of the following characters can be used...</p>
<p>Usually one of these to write to the standard output files ...</p>
<p>S write to stdout or iounit set with journal(unit) or journal(unit,filename). E write to stderr</p>
<p>And one of these to write to trail file (ignore if no trail file defined) ...</p>
<p>C write to trail file as a comment (if file is open) Writing output "as a comment" means it is preceded by a pound(#) character. T write to trail file (if file is open)</p>
<p>Usually used by itself</p>
<p>D write to trail file as a comment with "DEBUG:" prefix in front of message (if file is open) if debug mode is on. Write to stdout if no trail file and debug mode is on.</p>
<p>Modifier for S|E|C|T|D specifiers</p>
<ul>
<li>subsequent files are written to with advance='no'. Position is important. '+sc' does an advance='no' on both files, 's+c' only does the advance='no' for the trail file.</li>
</ul>
<p>Mode changing options used by themselves:</p>
<p>&gt; turn off debug messages &lt; turn on debug messages O open trail file using value of "message" parameter or close trail file if no filename or a blank filename. A Auxiliary programs that also want to write to the current log file (a2b, z2a, ...) call this routine to see if there is a trail file being generated and then add to it so that a program like ush(1f) can call the auxiliary programs and still just generate one log file, but if the auxiliary program is used as a stand-alone program no trail is generated.</p>
<p>VALUES(S) message to write to stdout, stderr, and the trail file. a numeric or character value to optionally be appended to the message. Up to nine values are allowed. The WHERE field is required if values are added. FILENAME when WHERE="O" to turn the trail file on or off, the "message" field becomes the trail filename to open. If blank, writing to the trail file is turned off. TFORMAT when WHERE="%" the message is treated as a time format specification as described under now(3f).</p>
<h2>EXAMPLE</h2>
<p>Sample program:</p>
<p>program demo_journal use M_journal, only : journal !! BASIC USAGE call journal('write to standard output as-is, and trail file as a comment if open') ! since we have not opened a trail file yet, only stdout will display output call journal('c','ignored, as trail file is not open') ! now open trail file "trail" call journal('o','trail') call journal('sc','same thing except now trail file is open') ! only write to trail file if open call journal('c','not ignored, as trail file is open. Written with # suffix') call journal('t','not ignored, as trail file is open. Written as-is') ! turn off trail file call journal('o','') end program demo_journal</p>
<p>Adding intrinsic scalar values to the message:</p>
<p>program test_journal use M_journal, only: journal implicit none call journal('S','This is a test with no optional value') call journal('S','This is a test with a logical value',.true.) call journal('S','This is a test with a double value',1234567890.123456789d0) call journal('S','This is a test with a real value',1234567890.123456789) call journal('S','This is a test with an integer value',1234567890) call journal('STDC','This is a test using STDC',1234567890) call journal('stdc','This is a test using stdc',1234567890) call journal('o','journal.txt') ! open trail file call journal('S',1,12.34,56789.111111111d0,.false.,'a bunch of values') ! the combinations that make sense call journal('st','stdout and trail') call journal('s' ,'stdout only') call journal('t' ,'trail only') call journal('sc','stdout and trail_comment') call journal('c' ,'trail_comment only ') call journal('d' ,'debug only') call journal('e' ,'stderr only') call journal('o' ,' ') ! closing trail file end program test_journal</p>
<p>program testit ! this is a utility program that calls the module routines. It is typically built using ccall(1). use M_journal, only : journal character(len=:),allocatable :: time_stamp_prefix call journal('s','-----------------------------------------------------------------------------&mdash;') call journal('s','SIMPLE WRITES') call one() call two() call journal('sc','called ONE() and TWO() but did not generate a log file') call journal('s','-----------------------------------------------------------------------------&mdash;') call journal('s','SIMPLE WRITES WITH LOG FILE') call journal('o','journal.txt') ! open trail file call one() call two() call journal('sc','called ONE() and TWO() and generated log file journal.txt') call journal('','journal.txt') ! close trail file call journal('s','-----------------------------------------------------------------------------&mdash;') call journal('s','SIMPLE WRITES WITH TIMING INFORMATION') time_stamp_prefix='CPU_TIME=c:CALLS=C:SINCE=S:b' ! change time prefix call journal('',time_stamp_prefix) ! set a time prefix in front of messages call journal('o','timed.txt') ! open trail file call one() call two() call journal('sc','called ONE() and TWO() and generate log file timed.txt') call journal('','timed.txt') ! close trail file call journal('','') ! turn off time prefix call journal('o','timed.txt') ! open trail file call journal('s','-----------------------------------------------------------------------------&mdash;')</p>
<p>contains</p>
<p>subroutine two() call journal('Entered subroutine two') call journal('Exited subroutine two') end subroutine two</p>
<p>subroutine one() call journal('Entered subroutine one') sum=-HUGE(1.0) do i=1,10000000 sum=sum+sqrt(real(i)) enddo write(*,*)'SUM=',sum call journal('Exited subroutine one') end subroutine one</p>
<p>end program testit</p>
<h2>AUTHOR</h2>
<p>John S. Urban</p>
<h2>LICENSE</h2>
<p>Public Domain </p>
</div><h2 class="groupheader">Member Function/Subroutine Documentation</h2>
<a id="acdde0ed4590797094f797514820e34fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdde0ed4590797094f797514820e34fc">&#9670;&nbsp;</a></span>flush_trail()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine m_journal::journal::flush_trail </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a78f9c4a4314847963a2feae798ff54c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78f9c4a4314847963a2feae798ff54c1">&#9670;&nbsp;</a></span>set_stdout_lun()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine m_journal::journal::set_stdout_lun </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>iounit</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ae6136e918d4383d1c463c536a3eb814a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6136e918d4383d1c463c536a3eb814a">&#9670;&nbsp;</a></span>where_write_message_all()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine m_journal::journal::where_write_message_all </td>
          <td>(</td>
          <td class="paramtype">character(len=*), intent(in)&#160;</td>
          <td class="paramname"><em>where</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">class(*), intent(in)&#160;</td>
          <td class="paramname"><em>g0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">class(*), intent(in), optional&#160;</td>
          <td class="paramname"><em>g1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">class(*), intent(in), optional&#160;</td>
          <td class="paramname"><em>g2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">class(*), intent(in), optional&#160;</td>
          <td class="paramname"><em>g3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">class(*), intent(in), optional&#160;</td>
          <td class="paramname"><em>g4</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">class(*), intent(in), optional&#160;</td>
          <td class="paramname"><em>g5</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">class(*), intent(in), optional&#160;</td>
          <td class="paramname"><em>g6</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">class(*), intent(in), optional&#160;</td>
          <td class="paramname"><em>g7</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">class(*), intent(in), optional&#160;</td>
          <td class="paramname"><em>g8</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">class(*), intent(in), optional&#160;</td>
          <td class="paramname"><em>g9</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, intent(in), optional&#160;</td>
          <td class="paramname"><em>nospace</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><h2>NAME</h2>
where_write_message_all(3f) - [M_journal] converts any standard scalar type to a string and calls journal(3f) (LICENSE:PD) </p><h2>SYNOPSIS</h2>
</p>
<p>subroutine where_write_message_all(where,g0,g1,g2g3,g4,g5,g6,g7,g8,g9,nospace)</p>
<p>character(len=*),intent(in) :: where class(*),intent(in) :: g0 class(*),intent(in),optional :: g1,g2,g3,g4,g5,g6,g7,g8,g9 logical,intent(in),optional :: nospace</p>
<h2>DESCRIPTION</h2>
<p>where_write_message_all(3f) builds and writes a space-separated string from up to nine scalar values.</p>
<h2>OPTIONS</h2>
<pre class="fragment">where    string designating where to write message, as with journal(3f)
g0       value to print. May
         be of type INTEGER, LOGICAL, REAL, DOUBLEPRECISION, COMPLEX,
         or CHARACTER.
g[1-9]   optional additional values to print the value of after g0.
nospace  if nospace=.true., then no spaces are added between values
</pre> <h2>RETURNS</h2>
<p>where_write_message_all description to print</p>
<h2>EXAMPLES</h2>
<p>Sample program:</p>
<p>program demo_wm_all use M_journal, only : where_write_message_all implicit none end program program demo_wm_all </p><h2>AUTHOR</h2>
<p>John S. Urban </p><h2>LICENSE</h2>
<p>Public Domain </p>

</div>
</div>
<a id="a1cb40f602a1e1c546bce71652a779d31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cb40f602a1e1c546bce71652a779d31">&#9670;&nbsp;</a></span>write_message_only()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine m_journal::journal::write_message_only </td>
          <td>(</td>
          <td class="paramtype">character(len=*), intent(in)&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this interface was generated from the following file:<ul>
<li>/home/urbanjs/venus/V600/github/M_msg/src/<a class="el" href="M__journal_8f90.html">M_journal.f90</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
